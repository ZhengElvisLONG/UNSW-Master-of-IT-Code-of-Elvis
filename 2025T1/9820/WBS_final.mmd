graph TD
    %% 主项目结构
    A[UNSW Developmental Wind Farm WBS] --> B[Project Initiation]
    A --> C[Engineering Design]
    A --> D[Procurement & Bidding]
    A --> E[Construction]
    A --> F[Commissioning & Testing]
    A --> G[Project Management]
    A --> H[Compliance & Documentation]
    A --> I[Operations & Maintenance]

    %% 项目启动
    B[Project Initiation] --> B1[1.1 Strategic Alignment]
    B1 --> B1a[1.1.1 UNSW 2025 Gap Analysis]
    B1a --> B1a1[Analyze UNSW 2025 Goals]
    B1a --> B1a2[Identify Gaps]
    B1 --> B1b[1.1.2 Teaching-Research Plan]
    B1b --> B1b1[Develop Research Objectives]
    B1b --> B1b2[Align with Teaching Goals]
    B --> B2[1.2 Feasibility Study]
    B2 --> B2a[1.2.1 Wind Resource Assessment]
    B2a --> B2a1[Collect Wind Data]
    B2a --> B2a2[Analyze Wind Patterns]
    B2 --> B2b[1.2.2 Grid Connection Study]
    B2b --> B2b1[Assess Grid Capacity]
    B2b --> B2b2[Identify Connection Points]
    B2 --> B2c[1.2.3 Budget Estimation]
    B2c --> B2c1[Estimate Capital Costs]
    B2c --> B2c2[Forecast Operational Costs]

    %% 工程设计
    C[Engineering Design] --> C1[2.1 Conceptual Design]
    C1 --> C1a[2.1.1 Site Topography]
    C1a --> C1a1[Conduct Site Survey]
    C1a --> C1a2[Create Topographic Map]
    C1 --> C1b[2.1.2 Turbine Layout Optimization]
    C1b --> C1b1[Simulate Wind Flow]
    C1b --> C1b2[Optimize Turbine Placement]
    C1 --> C1c[2.1.3 Modular Switchyard]
    C1c --> C1c1[Design Switchyard Layout]
    C1c --> C1c2[Specify Equipment Requirements]
    C --> C2[2.2 Detailed Design]
    C2 --> C2a[2.2.1 Geotechnical Surveys]
    C2a --> C2a1[Drill Soil Samples]
    C2a --> C2a2[Analyze Soil Properties]
    C2 --> C2b[2.2.2 Foundation Design]
    C2b --> C2b1[Design Foundation Structure]
    C2b --> C2b2[Calculate Load Capacity]
    C2 --> C2c[2.2.3 SCADA Architecture]
    C2c --> C2c1[Design SCADA System]
    C2c --> C2c2[Specify Hardware Components]
    C2 --> C2d[2.2.4 Experimental Interfaces]
    C2d --> C2d1[Design Data Collection System]
    C2d --> C2d2[Integrate with Research Tools]

    %% 招标采购
    D[Procurement & Bidding] --> D1[3.1 Tender Process]
    D1 --> D1a[3.1.1 Bidding Documents]
    D1a --> D1a1[Prepare Tender Documents]
    D1a --> D1a2[Review Legal Requirements]
    D1 --> D1b[3.1.2 Supplier Qualification]
    D1b --> D1b1[Evaluate Supplier Credentials]
    D1b --> D1b2[Shortlist Qualified Suppliers]
    D --> D2[3.2 Contract Execution]
    D2 --> D2a[3.2.1 Risk Allocation]
    D2a --> D2a1[Identify Contract Risks]
    D2a --> D2a2[Allocate Risk Responsibilities]
    D2 --> D2b[3.2.2 Contract Clauses]
    D2b --> D2b1[Draft Contract Terms]
    D2b --> D2b2[Negotiate Contract Details]

    %% 施工
    E[Construction] --> E1[4.1 Site Works]
    E1 --> E1a[4.1.1 Land Preparation]
    E1a --> E1a1[Clear Land]
    E1a --> E1a2[Grade Site]
    E1 --> E1b[4.1.2 Heritage Protection]
    E1b --> E1b1[Identify Heritage Sites]
    E1b --> E1b2[Implement Protection Measures]
    E --> E2[4.2 Foundation]
    E2 --> E2a[4.2.1 Anchor Installation]
    E2a --> E2a1[Install Anchor Bolts]
    E2a --> E2a2[Verify Anchor Alignment]
    E2 --> E2b[4.2.2 Concrete Works]
    E2b --> E2b1[Pour Concrete]
    E2b --> E2b2[Cure Concrete]
    E --> E3[4.3 Electrical]
    E3 --> E3a[4.3.1 Cable Installation]
    E3a --> E3a1[Lay Underground Cables]
    E3a --> E3a2[Connect Cables to Turbines]
    E3 --> E3b[4.3.2 Switchyard Build]
    E3b --> E3b1[Install Switchyard Equipment]
    E3b --> E3b2[Test Electrical Connections]

    %% 调试测试
    F[Commissioning & Testing] --> F1[5.1 Unit Testing]
    F1 --> F1a[5.1.1 Turbine Certification]
    F1a --> F1a1[Test Turbine Performance]
    F1a --> F1a2[Issue Certification]
    F --> F2[5.2 System Testing]
    F2 --> F2a[5.2.1 Grid Integration]
    F2a --> F2a1[Test Grid Connection]
    F2a --> F2a2[Verify Power Flow]
    F --> F3[5.3 Remote Systems]
    F3 --> F3a[5.3.1 SCADA Setup]
    F3a --> F3a1[Install SCADA Software]
    F3a --> F3a2[Configure Remote Monitoring]
    F3 --> F3b[5.3.2 Data Validation]
    F3b --> F3b1[Collect Test Data]
    F3b --> F3b2[Validate Data Accuracy]

    %% 项目管理
    G[Project Management] --> G1[6.1 Cost Control]
    G1 --> G1a[6.1.1 Budget Tracking]
    G1a --> G1a1[Monitor Expenditures]
    G1a --> G1a2[Update Budget Reports]
    G1 --> G1b[6.1.2 Change Control]
    G1b --> G1b1[Assess Change Requests]
    G1b --> G1b2[Implement Approved Changes]
    G --> G2[6.2 Risk Mgmt]
    G2 --> G2a[6.2.1 Risk Modeling]
    G2a --> G2a1[Identify Potential Risks]
    G2a --> G2a2[Develop Risk Mitigation Plans]
    G2 --> G2b[6.2.2 Weather Planning]
    G2b --> G2b1[Monitor Weather Forecasts]
    G2b --> G2b2[Adjust Schedules as Needed]
    G --> G3[6.3 Digital Tools]
    G3 --> G3a[6.3.1 4D Modeling]
    G3a --> G3a1[Create 4D Project Model]
    G3a --> G3a2[Simulate Construction Progress]

    %% 合规文档
    H[Compliance & Documentation] --> H1[7.1 Approvals]
    H1 --> H1a[7.1.1 Development Permits]
    H1a --> H1a1[Submit Permit Applications]
    H1a --> H1a2[Coordinate with Authorities]
    H1 --> H1b[7.1.2 Environmental Compliance]
    H1b --> H1b1[Conduct Environmental Impact Assessment]
    H1b --> H1b2[Implement Mitigation Measures]
    H --> H2[7.2 Deliverables]
    H2 --> H2a[7.2.1 Construction Drawings]
    H2a --> H2a1[Prepare Design Drawings]
    H2a --> H2a2[Review and Approve Drawings]
    H2 --> H2b[7.2.2 Test Reports]
    H2b --> H2b1[Compile Test Data]
    H2b --> H2b2[Prepare Final Reports]
    H2 --> H2c[7.2.3 Operation Manuals]
    H2c --> H2c1[Draft Manuals]
    H2c --> H2c2[Review and Publish Manuals]

    %% 运维
    I[Operations & Maintenance] --> I1[8.1 Performance]
    I1 --> I1a[8.1.1 Annual Reporting]
    I1a --> I1a1[Collect Performance Data]
    I1a --> I1a2[Prepare Annual Report]
    I1 --> I1b[8.1.2 Research Integration]
    I1b --> I1b1[Analyze Research Data]
    I1b --> I1b2[Implement Research Findings]
    I --> I2[8.2 Sustainability]
    I2 --> I2a[8.2.1 Recycling Program]
    I2a --> I2a1[Develop Recycling Plan]
    I2a --> I2a2[Implement Recycling Initiatives]
    I2 --> I2b[8.2.2 Wildlife Monitoring]
    I2b --> I2b1[Monitor Wildlife Impact]
    I2b --> I2b2[Adjust Operations as Needed]

    %% 关键路径
    C1b[2.1.2 Turbine Layout Optimization] -.->|Layout Finalized| D1a[3.1.1 Bidding Documents]
    D2a[3.2.1 Risk Allocation] -.->|Contract Signed| E1a[4.1.1 Land Preparation]
    E3b[4.3.2 Switchyard Build] -.->|Power Ready| F2a[5.2.1 Grid Integration]
    F2a[5.2.1 Grid Integration] -.->|Grid Approved| I1a[8.1.1 Annual Reporting]
    H1a[7.1.1 Development Permits] -.->|Permit Released| E1b[4.1.2 Heritage Protection]

    %% 样式定义
    classDef phase fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef critical fill:#ffebee,stroke:#c62828
    class B,C,D,E,F,G,H,I phase
    class H1a,B1a critical