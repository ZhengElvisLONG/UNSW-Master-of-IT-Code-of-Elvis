graph TD
    %% 主项目结构
    A[UNSW Developmental Wind Farm WBS] --> B[Project Initiation] %% 项目启动
    A --> C[Engineering Design] %% 工程设计
    A --> D[Procurement & Bidding] %% 招标采购
    A --> E[Construction] %% 施工
    A --> F[Commissioning & Testing] %% 调试测试
    A --> G[Project Management] %% 项目管理
    A --> H[Compliance & Documentation] %% 合规文档
    A --> I[Operations & Maintenance] %% 运维

    %% 项目启动
    B[Project Initiation] --> B1[1.1 Strategic Alignment] %% 战略对齐
    B1 --> B1a[1.1.1 UNSW 2025 Gap Analysis] %% UNSW 2025 差距分析
    B1a --> B1a1[Analyze UNSW 2025 Goals] %% 分析 UNSW 2025 目标
    B1a --> B1a2[Identify Gaps] %% 识别差距
    B1 --> B1b[1.1.2 Teaching-Research Plan] %% 教学研究计划
    B1b --> B1b1[Develop Research Objectives] %% 制定研究目标
    B1b --> B1b2[Align with Teaching Goals] %% 与教学目标对齐
    B --> B2[1.2 Feasibility Study] %% 可行性研究
    B2 --> B2a[1.2.1 Wind Resource Assessment] %% 风资源评估
    B2a --> B2a1[Collect Wind Data] %% 收集风数据
    B2a --> B2a2[Analyze Wind Patterns] %% 分析风模式
    B2 --> B2b[1.2.2 Grid Connection Study] %% 电网连接研究
    B2b --> B2b1[Assess Grid Capacity] %% 评估电网容量
    B2b --> B2b2[Identify Connection Points] %% 识别连接点
    B2 --> B2c[1.2.3 Budget Estimation] %% 预算估算
    B2c --> B2c1[Estimate Capital Costs] %% 估算资本成本
    B2c --> B2c2[Forecast Operational Costs] %% 预测运营成本

    %% 工程设计
    C[Engineering Design] --> C1[2.1 Conceptual Design] %% 概念设计
    C1 --> C1a[2.1.1 Site Topography] %% 场地地形
    C1a --> C1a1[Conduct Site Survey] %% 进行场地调查
    C1a --> C1a2[Create Topographic Map] %% 创建地形图
    C1 --> C1b[2.1.2 Turbine Layout Optimization] %% 风机布局优化
    C1b --> C1b1[Simulate Wind Flow] %% 模拟风流动
    C1b --> C1b2[Optimize Turbine Placement] %% 优化风机位置
    C1 --> C1c[2.1.3 Modular Switchyard] %% 模块化开关站
    C1c --> C1c1[Design Switchyard Layout] %% 设计开关站布局
    C1c --> C1c2[Specify Equipment Requirements] %% 指定设备要求
    C --> C2[2.2 Detailed Design] %% 详细设计
    C2 --> C2a[2.2.1 Geotechnical Surveys] %% 地质调查
    C2a --> C2a1[Drill Soil Samples] %% 钻取土壤样本
    C2a --> C2a2[Analyze Soil Properties] %% 分析土壤特性
    C2 --> C2b[2.2.2 Foundation Design] %% 基础设计
    C2b --> C2b1[Design Foundation Structure] %% 设计基础结构
    C2b --> C2b2[Calculate Load Capacity] %% 计算负载能力
    C2 --> C2c[2.2.3 SCADA Architecture] %% SCADA 架构
    C2c --> C2c1[Design SCADA System] %% 设计 SCADA 系统
    C2c --> C2c2[Specify Hardware Components] %% 指定硬件组件
    C2 --> C2d[2.2.4 Experimental Interfaces] %% 实验接口
    C2d --> C2d1[Design Data Collection System] %% 设计数据收集系统
    C2d --> C2d2[Integrate with Research Tools] %% 与研究工具集成

    %% 招标采购
    D[Procurement & Bidding] --> D1[3.1 Tender Process] %% 招标流程
    D1 --> D1a[3.1.1 Bidding Documents] %% 招标文件
    D1a --> D1a1[Prepare Tender Documents] %% 准备招标文件
    D1a --> D1a2[Review Legal Requirements] %% 审查法律要求
    D1 --> D1b[3.1.2 Supplier Qualification] %% 供应商资质
    D1b --> D1b1[Evaluate Supplier Credentials] %% 评估供应商资质
    D1b --> D1b2[Shortlist Qualified Suppliers] %% 筛选合格供应商
    D --> D2[3.2 Contract Execution] %% 合同执行
    D2 --> D2a[3.2.1 Risk Allocation] %% 风险分配
    D2a --> D2a1[Identify Contract Risks] %% 识别合同风险
    D2a --> D2a2[Allocate Risk Responsibilities] %% 分配风险责任
    D2 --> D2b[3.2.2 Contract Clauses] %% 合同条款
    D2b --> D2b1[Draft Contract Terms] %% 起草合同条款
    D2b --> D2b2[Negotiate Contract Details] %% 协商合同细节

    %% 施工
    E[Construction] --> E1[4.1 Site Works] %% 场地工程
    E1 --> E1a[4.1.1 Land Preparation] %% 土地准备
    E1a --> E1a1[Clear Land] %% 清理土地
    E1a --> E1a2[Grade Site] %% 场地平整
    E1 --> E1b[4.1.2 Heritage Protection] %% 遗产保护
    E1b --> E1b1[Identify Heritage Sites] %% 识别遗产地点
    E1b --> E1b2[Implement Protection Measures] %% 实施保护措施
    E --> E2[4.2 Foundation] %% 基础
    E2 --> E2a[4.2.1 Anchor Installation] %% 锚固安装
    E2a --> E2a1[Install Anchor Bolts] %% 安装锚固螺栓
    E2a --> E2a2[Verify Anchor Alignment] %% 验证锚固对齐
    E2 --> E2b[4.2.2 Concrete Works] %% 混凝土工程
    E2b --> E2b1[Pour Concrete] %% 浇筑混凝土
    E2b --> E2b2[Cure Concrete] %% 混凝土养护
    E --> E3[4.3 Electrical] %% 电气工程
    E3 --> E3a[4.3.1 Cable Installation] %% 电缆安装
    E3a --> E3a1[Lay Underground Cables] %% 铺设地下电缆
    E3a --> E3a2[Connect Cables to Turbines] %% 连接电缆至风机
    E3 --> E3b[4.3.2 Switchyard Build] %% 开关站建设
    E3b --> E3b1[Install Switchyard Equipment] %% 安装开关站设备
    E3b --> E3b2[Test Electrical Connections] %% 测试电气连接

    %% 调试测试
    F[Commissioning & Testing] --> F1[5.1 Unit Testing] %% 单元测试
    F1 --> F1a[5.1.1 Turbine Certification] %% 风机认证
    F1a --> F1a1[Test Turbine Performance] %% 测试风机性能
    F1a --> F1a2[Issue Certification] %% 颁发认证
    F --> F2[5.2 System Testing] %% 系统测试
    F2 --> F2a[5.2.1 Grid Integration] %% 电网集成
    F2a --> F2a1[Test Grid Connection] %% 测试电网连接
    F2a --> F2a2[Verify Power Flow] %% 验证电力流动
    F --> F3[5.3 Remote Systems] %% 远程系统
    F3 --> F3a[5.3.1 SCADA Setup] %% SCADA 设置
    F3a --> F3a1[Install SCADA Software] %% 安装 SCADA 软件
    F3a --> F3a2[Configure Remote Monitoring] %% 配置远程监控
    F3 --> F3b[5.3.2 Data Validation] %% 数据验证
    F3b --> F3b1[Collect Test Data] %% 收集测试数据
    F3b --> F3b2[Validate Data Accuracy] %% 验证数据准确性

    %% 项目管理
    G[Project Management] --> G1[6.1 Cost Control] %% 成本控制
    G1 --> G1a[6.1.1 Budget Tracking] %% 预算跟踪
    G1a --> G1a1[Monitor Expenditures] %% 监控支出
    G1a --> G1a2[Update Budget Reports] %% 更新预算报告
    G1 --> G1b[6.1.2 Change Control] %% 变更控制
    G1b --> G1b1[Assess Change Requests] %% 评估变更请求
    G1b --> G1b2[Implement Approved Changes] %% 实施批准的变更
    G --> G2[6.2 Risk Mgmt] %% 风险管理
    G2 --> G2a[6.2.1 Risk Modeling] %% 风险建模
    G2a --> G2a1[Identify Potential Risks] %% 识别潜在风险
    G2a --> G2a2[Develop Risk Mitigation Plans] %% 制定风险缓解计划
    G2 --> G2b[6.2.2 Weather Planning] %% 天气规划
    G2b --> G2b1[Monitor Weather Forecasts] %% 监控天气预报
    G2b --> G2b2[Adjust Schedules as Needed] %% 根据需要调整时间表
    G --> G3[6.3 Digital Tools] %% 数字工具
    G3 --> G3a[6.3.1 4D Modeling] %% 4D 建模
    G3a --> G3a1[Create 4D Project Model] %% 创建 4D 项目模型
    G3a --> G3a2[Simulate Construction Progress] %% 模拟施工进度

    %% 合规文档
    H[Compliance & Documentation] --> H1[7.1 Approvals] %% 审批
    H1 --> H1a[7.1.1 Development Permits] %% 开发许可
    H1a --> H1a1[Submit Permit Applications] %% 提交许可申请
    H1a --> H1a2[Coordinate with Authorities] %% 与当局协调
    H1 --> H1b[7.1.2 Environmental Compliance] %% 环境合规
    H1b --> H1b1[Conduct Environmental Impact Assessment] %% 进行环境影响评估
    H1b --> H1b2[Implement Mitigation Measures] %% 实施缓解措施
    H --> H2[7.2 Deliverables] %% 交付物
    H2 --> H2a[7.2.1 Construction Drawings] %% 施工图纸
    H2a --> H2a1[Prepare Design Drawings] %% 准备设计图纸
    H2a --> H2a2[Review and Approve Drawings] %% 审查和批准图纸
    H2 --> H2b[7.2.2 Test Reports] %% 测试报告
    H2b --> H2b1[Compile Test Data] %% 汇编测试数据
    H2b --> H2b2[Prepare Final Reports] %% 准备最终报告
    H2 --> H2c[7.2.3 Operation Manuals] %% 操作手册
    H2c --> H2c1[Draft Manuals] %% 起草手册
    H2c --> H2c2[Review and Publish Manuals] %% 审查和发布手册

    %% 运维
    I[Operations & Maintenance] --> I1[8.1 Performance] %% 性能
    I1 --> I1a[8.1.1 Annual Reporting] %% 年度报告
    I1a --> I1a1[Collect Performance Data] %% 收集性能数据
    I1a --> I1a2[Prepare Annual Report] %% 准备年度报告
    I1 --> I1b[8.1.2 Research Integration] %% 研究整合
    I1b --> I1b1[Analyze Research Data] %% 分析研究数据
    I1b --> I1b2[Implement Research Findings] %% 实施研究结果
    I --> I2[8.2 Sustainability] %% 可持续性
    I2 --> I2a[8.2.1 Recycling Program] %% 回收计划
    I2a --> I2a1[Develop Recycling Plan] %% 制定回收计划
    I2a --> I2a2[Implement Recycling Initiatives] %% 实施回收计划
    I2 --> I2b[8.2.2 Wildlife Monitoring] %% 野生动物监测
    I2b --> I2b1[Monitor Wildlife Impact] %% 监测野生动物影响
    I2b --> I2b2[Adjust Operations as Needed] %% 根据需要调整运营

    %% 关键路径
    C1b[2.1.2 Turbine Layout Optimization] -.->|Layout Finalized| D1a[3.1.1 Bidding Documents] %% 布局确定
    D2a[3.2.1 Risk Allocation] -.->|Contract Signed| E1a[4.1.1 Land Preparation] %% 合同签署
    E3b[4.3.2 Switchyard Build] -.->|Power Ready| F2a[5.2.1 Grid Integration] %% 电力就绪
    F2a[5.2.1 Grid Integration] -.->|Grid Approved| I1a[8.1.1 Annual Reporting] %% 电网批准
    H1a[7.1.1 Development Permits] -.->|Permit Released| E1b[4.1.2 Heritage Protection] %% 许可发布

    %% 样式定义
    classDef phase fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    classDef critical fill:#ffebee,stroke:#c62828
    class B,C,D,E,F,G,H,I phase
    class H1a,B1a critical